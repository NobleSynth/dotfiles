#account settings
set from="trevor.noble@dreamhost.com"
set realname = "Trevor Noble"
#set imap_user = "trevor.noble@dreamhost.com"
set imap_user = "trevor.noble"
#set imap_pass = "n$VnGPY4Kk2f"
set smtp_url = "smtp://dreamhost.com@smtp.gmail.com:587"
#set smtp_url = "smtp://trevor.noble@dreamhost.com@smtp.gmail.com:587"
#set smtp_pass = "n$VnGPY4Kk2f"


bind compose p pgp-menu

# Prepare GPG usage
source ~/.mutt/gpg.rc

#goobook contact lookup mechanizm:
set query_command="goobook query '%s'"
set editor = "vim --cmd 'let g:goobookrc=\"/Users/admin/.goobookrc\"'"
bind editor <Tab> complete-query

#not much mail search macro:
macro index S "<enter-command>unset wait_key<enter><shell-escape>mutt_notmuch /tempfiles/notmuch_search_results<enter><change-folder-readonly>/tempfiles/notmuch_search_results<enter>" "search mail (using notmuch)"

###############

#because of offline imap:
# IMAP: offlineimap
# set folder = "~/Mail"
# source ~/.mutt/mailboxes
# set spoolfile = "+account/INBOX"
# set record = "+account/Sent\ Items"
# set postponed = "+account/Drafts"


set folder = "imaps://imap.gmail.com:993"
set spoolfile = "+INBOX"
set postponed = "+[Gmail]/Drafts"
#set trash = "imaps://imap.gmail.com/[Gmail]/Trash"
set record = "+[Gmail]/Sent Mail"
set header_cache =~/.mutt/cache/headers
set message_cachedir =~/.mutt/cache/bodies
set certificate_file =~/.mutt/certificates
  
set move = no  #Stop asking to "move read messages to mbox"!
set imap_keepalive = 900


#################


# Header related stuff
  ignore "Authentication-Results:
  ignore "DomainKey-Signature:"
  ignore "DKIM-Signature:"
  hdr_order Date From To Cc
     
  ignore *
  unignore from: date subject to cc
  unignore x-mailing-list: posted-to:
  unignore x-mailer:
      
   # Sorting, Markers etc.
   set markers=no # don't put '+' at the beginning of wrapped lines
   set pager_index_lines= 10 # how large is the index window?
   set sort = 'threads'
   set sort_aux = 'last-date-received'
       
   # Set which Editor to use for composing Emails.
   set editor= '/usr/bin/vim'
        
   # set up the sidebar
#   set sidebar_width=24
#   set sidebar_visible=yes
#   set sidebar_delim='|'
#   set sidebar_sort=no
         
   # which mailboxes to list in the sidebar,
   # you can add your Labels in Gmail to the Sidebar.
   mailboxes =All Mail =INBOX =Drafts =Sent Mail  =Trash
          
   # color of folders with new mail
#   color sidebar_new yellow default
           
   #Sidebar Navigation
#   bind index CP sidebar-prev
#   bind index CN sidebar-next
#   bind index CO sidebar-open
#   bind pager CP sidebar-prev
#   bind pager CN sidebar-next
#   bind pager CO sidebar-open
            
           # b toggles sidebar visibility
           macro index b 'toggle sidebar_visible'
           macro pager b 'toggle sidebar_visible'
             
           # Remap bounce-message function to "B"
           bind index B bounce-message
              
           #make mutt colorful!
           color attachment brightmagenta default
           color error      brightred    default
           color hdrdefault red          default
           color indicator  brightyellow red
           color markers    brightcyan   default
           color message    brightcyan   default
           color normal     default      default
           color quoted     brightblue   default
           color search     default      green
           color signature  red          default
           color status     yellow       blue
           color tilde      magenta      default
           color tree       magenta      default
